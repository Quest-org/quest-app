这是关于产品需求分析、系统设计、推广方案等等的综合文档。

# 需求分析

## 基础问卷系统

- 学术性调研问卷的内容创建、发布、分享
- 问卷模板的创建、发布
- 问卷结果数据的共享功能

## 基础问卷结果分析系统

- 基础分析报告生成
- 数据导出为统计分析软件格式
- 问卷有效性检查

## 基础用户服务

- 用户登录与注册
- 追踪已发布的问卷详情
- 使用文档
- 数据云存储

## 地理信息问卷设计与发放

- 允许问卷使用位置服务
- 允许问卷设置上传题型（具有位置信息的数据，如图像、视频）
- 允许问卷调用内嵌地图
  - 地图选点
  - 地物搜索
  - 区域选择
  - 地理信息数据可视化

## 地理信息相关问卷数据分析服务

- 基于GIS的问卷结果可视化
- 缓冲区分析
- 叠置分析
- 网络分析
- ......

# 系统设计

## 问卷设计系统

问卷设计系统包含**逻辑设计器**、**Quest编译器**、**内容编辑器**和**渲染器**共四个模块。

![image-20220120142431060](/Users/shep/Library/Application Support/typora-user-images/image-20220120142431060.png)

上图为问卷设计系统的界面草稿。

左侧边栏为工具栏，中部靠左的图表界面是逻辑视图，右上角为内容编辑器，右下角为预览窗口。

问卷题目逻辑的核心数据结构模型是**有向无环图**，在答题者选中特定选项（或其他逻辑触发条件）后，渲染器选择图的起点到终点的一条路径进行渲染呈现，这意味着用户所见是类似链表的线性模型。

图的每个节点都对应着一道题目，因此逻辑图具有异构节点，且节点的类型总数将随着题型数量增加而增加。市场上已存在的问卷系统都以UI的形式帮助用户完成题目的设计，然而每一种题型的功能都在不断发展更新，导致UI变得臃肿复杂。考虑到这个问题，目前最佳的解决方案是提供两种题目编辑模式。

对于普通用户，推荐使用UI进行题目设计，题目编辑UI具有有限的功能，但相对简洁易用；对于需要更多编辑功能的用户，推荐使用内容编辑器（实质为类Markdown格式的文本编辑器）进行设计，由内容编译器进行检查与编译生成数据对象，然后交由预览渲染器进行渲染。

两种编辑模型背后均可使用统一标准的设计语言（以下成为Quest语言），并允许用户在两种模式之间随意切换。

在Quest设计语言中，用户可以使用中文完成题目内容编辑、多媒体插入、样式设计、逻辑设计等等工作。

<img src="/Users/shep/Cache/image-20220120151114934.png" alt="image-20220120151114934" style="zoom:50%;" />
